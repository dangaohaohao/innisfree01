<html>
<head>
<title>INNISFEE CHINA</title>
<meta name="keywords" content="INNISFEE CHINA" />     
<meta name="description" content="INNISFEE CHINA" />
<script language="JavaScript">
function refRedirect2() {
	var addr = document.location.href;
   	if(addr.indexOf('origin-www.innisfree.cn') > -1){
   		//refRedirect('https://www.innisfree.cn/Main.do');
   		refRedirect('/Main.do');
   	}
   	else if(addr.indexOf('origin-m.innisfree.cn') > -1) {
   		//refRedirect('https://www.innisfree.cn/mIndex.do');   		 
   		refRedirect('/mIndex.do');   		 
   	}
   	else{
   		//refRedirect('http://socialmovie.innisfree.cn');
   		/*   	
   		var referer = document.referrer;
   		var str = getHttpParam("ref");   		
   		if(referer.indexOf("socialmovie.innisfree") > -1 || str == "so") {
			//소셜 무비로부터의 호출은 팝업 띄우지 않음.
		} else {
			window.open("http://socialmovie.innisfree.cn/main_innisfree.php?ref=mall");
		}
		*/
   		refRedirect('/Main.do?ref=' + getHttpParam("ref"));
   	}
}

function getHttpParam(name) {
    var regexS = "[\\?&]" + name + "=([^&#]*)";
    var regex = new RegExp(regexS);
    var results = regex.exec(window.location.href);
    if (results == null) {
        return 2;
    } else {
        return results[1];
    }
}


function refRedirect(endTarget) {
var logtrk_goURL = endTarget;
// 아래라인은수정하지않습니다.
var logtrk_ref = ""+document.referrer.replace(/\?/g, "%3F" ).replace(/&/g, "%26");
var logtrk_param = ""+document.location.search.substr(1);
if( logtrk_param != "" ) {
if( logtrk_goURL.indexOf( "?" ) > 0 ) {
logtrk_goURL = logtrk_goURL + "&" + logtrk_param;
} else {
logtrk_goURL = logtrk_goURL + "?" + logtrk_param;
}
}
if( logtrk_ref != "" ) {
if( logtrk_goURL.indexOf( "?" ) > 0 ) {
logtrk_goURL = logtrk_goURL + "&source=" + logtrk_ref;
} else {
logtrk_goURL = logtrk_goURL + "?source=" + logtrk_ref;
}
}
document.location = logtrk_goURL;
}
</script>
</head>
<body onload="refRedirect2()">
</body>
</html>

